<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/new_file.css" />
</head>

<body>
    <div id="part">
        <div class="partCon">
            <div class="banner">
                <a href="javascript:void(0)" class="prev"></a>
                <a href="javascript:void(0)" class="next"></a>
                <div class="scroll">
                    <img class="first" src="img/flash1.jpg" />
                    <img src="img/flash2.jpg" />
                    <img src="img/flash3.jpg" />
                    <img src="img/flash4.jpg" />
                    <img src="img/flash5.png" />
                    <img src="img/flash6.jpg" />
                </div>
                <div class="btn">
                    <span class="hover"></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery-1.11.3.js"></script>
    <script type="text/javascript">
    	var $btns=$('.btn span');
    	var $imgs=$('.scroll img');
    	var $index=0;//当前的索引
    	var $qindex=0;//前一个索引
    	$btns.on('click',function(){
    		$index=$(this).index();
    		$btns.eq($index).addClass('hover').siblings('span').removeClass('hover');
    		if($index==0 && $qindex==5){
    			$imgs.eq($qindex).animate({
	    			left:820
	    		});
	    		$imgs.eq($index).css('left','-820px').animate({
	    			left:0
	    		});
	    		
    		}else if($index==5 && $qindex==0 ){
				$imgs.eq($qindex).animate({
    				left:-820
	    		});
	    		$imgs.eq($index).css('left','820px').animate({
	    			left:0
	    		});
    		}else if($index>$qindex){//当前的索引大于前一个索引。
	    		$imgs.eq($qindex).animate({
	    			left:-820
	    		});
	    		$imgs.eq($index).css('left','820px').animate({
	    			left:0
	    		});
    		}else if($index<$qindex){
	    		$imgs.eq($qindex).animate({
	    			left:820
	    		});
	    		$imgs.eq($index).css('left','-820px').animate({
	    			left:0
	    		});
    		}
    		$qindex=$index;
    	});
    	
    	
    	$('.next').on('click',function(){
    		$index++;
    		if($index>5){
    			$index=0;
    			$qindex=5;
    		}
    		scrollimg();
    		$qindex=$index;
    	});
    	$('.prev').on('click',function(){
    		$index--;
    		if($index<0){
    			$index=5;
    			$qindex=0;
    		}
    		scrollimg();
    		$qindex=$index;
    	});
    	
    	function scrollimg(){
    		$btns.eq($index).addClass('hover').siblings('span').removeClass('hover');
    		if($index==0 && $qindex==5){
    			$imgs.eq($qindex).animate({
	    			left:-820
	    		});
	    		$imgs.eq($index).css('left','820px').animate({
	    			left:0
	    		});
	    		
    		}else if($index==5 && $qindex==0 ){
				$imgs.eq($qindex).animate({
    				left:820
	    		});
	    		$imgs.eq($index).css('left','-820px').animate({
	    			left:0
	    		});
    		}else if($index>$qindex){//当前的索引大于前一个索引。
	    		$imgs.eq($qindex).animate({
	    			left:-820
	    		});
	    		$imgs.eq($index).css('left','820px').animate({
	    			left:0
	    		});
    		}else if($index<$qindex){
	    		$imgs.eq($qindex).animate({
	    			left:820
	    		});
	    		$imgs.eq($index).css('left','-820px').animate({
	    			left:0
	    		});
    		}
    	}
    	
    	$('.banner').hover(function(){
    		$('.prev,.next').show();
    	},function(){
    		$('.prev,.next').hide();
    	});
    </script>
</body>

</html>
