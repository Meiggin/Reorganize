<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<input type="checkbox" class="checkall" />全选按钮 <br>
		<input type="checkbox" />1<br>
		<input type="checkbox" />2<br>
		<input type="checkbox" />3<br>
		<input type="checkbox" />4<br>
		<input type="checkbox" />5
		
		<script type="text/javascript">
			$('.checkall').change(function(){
				$('input').not('.checkall').prop('checked',$(this).prop('checked'));//not:不包括
				//console.log($(this).prop('checked'));//prop:获取属性的值，布尔值比较方便，不能获取自定义属性值。
			});
			
			
			var $inputlength=$('input').not('.checkall').length;//5
			$('input').not('.checkall').change(function(){
				if($('input:checked').not('.checkall').size()==$inputlength){//除去全选按钮，选中的长度等于复选框的长度
					$('.checkall').prop('checked',true);
				}else{
					$('.checkall').prop('checked',false);
				}
			});
		</script>
	</body>
</html>
